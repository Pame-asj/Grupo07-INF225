{% extends 'base_docente.html' %}

{% block navegacion %}
<li class="nav-item"><a class="nav-link" href="{% url 'docente_index' %}">Inicio</a></li>
<li class="nav-item"><a class="nav-link" href="{% url 'listar_ensayos' %}">Gestionar Ensayos</a></li>
<li class="nav-item"><a class="nav-link" href="{% url 'resultados_docente' %}">Resultados</a></li>
<li class="nav-item"><a class="nav-link" href="{% url 'listar_preguntas' %}">Banco de Preguntas</a></li>
<li class="nav-item"><a class="nav-link active" href="{% url 'graficos_docente' %}">Gr√°ficos</a></li>
{% endblock %}

{% block cuenta-atras %}
<li class="nav-item"><a class="nav-link" href="{% url 'cuenta_docente' %}">Cuenta</a></li>
<li class="nav-item"><a href="{% url 'logout' %}" class="nav-link">Cerrar sesi√≥n</a></li>
{% endblock %}

{% block content %}
<h2 class="mb-4">{{ form.instance.pk|yesno:"Editar pregunta,Nueva pregunta" }}</h2>

<form method="post">
  {% csrf_token %}

  {# üëá Muestra errores generales del formulario #}
  {% if form.non_field_errors %}
    <div class="alert alert-danger">
      {{ form.non_field_errors }}
    </div>
  {% endif %}

  <div class="mb-3">
    {{ form.enunciado.label_tag }} {{ form.enunciado }} {{ form.enunciado.errors }}
  </div>

  <div class="mb-3">
    {{ form.opcion_A.label_tag }} {{ form.opcion_A }} {{ form.opcion_A.errors }}
  </div>
  <div class="mb-3">
    {{ form.opcion_B.label_tag }} {{ form.opcion_B }} {{ form.opcion_B.errors }}
  </div>
  <div class="mb-3">
    {{ form.opcion_C.label_tag }} {{ form.opcion_C }} {{ form.opcion_C.errors }}
  </div>
  <div class="mb-3">
    {{ form.opcion_D.label_tag }} {{ form.opcion_D }} {{ form.opcion_D.errors }}
  </div>

  <div class="mb-3">
    {{ form.respuesta_correcta.label_tag }} {{ form.respuesta_correcta }} {{ form.respuesta_correcta.errors }}
  </div>

  <div class="mb-3">
    {{ form.temas.label_tag }} {{ form.temas }} {{ form.temas.errors }}
  </div>

  {# NUEVO: ya existen porque los agregamos al form #}
  <div class="form-check mb-3">
    {{ form.is_free }} {{ form.is_free.label_tag }}
    {{ form.is_free.errors }}
    <div class="text-muted"><small>Si marcas ‚Äúlibre‚Äù, la pregunta queda disponible para pr√°ctica individual.</small></div>
  </div>

  <div class="mb-3">
    {{ form.tags.label_tag }} {{ form.tags }} {{ form.tags.errors }}
    <div class="text-muted"><small>Requerido si marcas ‚Äúlibre‚Äù: al menos una etiqueta.</small></div>
  </div>

  <button type="submit" class="btn btn-success">Guardar</button>
  <a href="{% url 'listar_preguntas' %}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}


